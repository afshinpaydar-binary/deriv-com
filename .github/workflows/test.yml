name: Lint

on:
  push:
    branches-ignore:
      - staging.*
      - production.*
    paths-ignore:
      - '**.md' 
env:
  GATSBY_CPU_COUNT: 2
  GATSBY_ENV: staging

jobs:
  lint:
    timeout-minutes: 15
    runs-on: ubuntu-latest

    steps:
      - name: Checkout üõéÔ∏è
        uses: actions/checkout@v2.3.1
      - name: npm install
        uses: actions/npm@master
        with:
          args: install
      - name: npm test
        uses: actions/npm@master
        with:
          args: run test
      - name: npm lint
        uses: actions/npm@master
        with:
          args: run lint
    # - name: Cache dependencies
    #   id: cache
    #   uses: actions/cache@v2
    #   env:
    #       cache-name: cache-node-modules
    #   with:
    #     path: ./node_modules
    #     key: modules-${{ hashFiles('package-lock.json') }}

    # - name: Install dependencies
    #   if: steps.cache.outputs.cache-hit != 'true'
    #   run: npm ci
    # - run: npm run build
    # - run: npm run format-check
    # - run: npm test





